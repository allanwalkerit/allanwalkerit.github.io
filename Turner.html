
<!DOCTYPE html>
<html lang="en">
  
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="A Bootstrap template for Tableau">
    <meta name="author" content="Allan Walker">
	<title>Turner Night</title>
<!-- CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
<!-- Javascript -->
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://public.tableau.com/javascripts/api/tableau-2.js"></script>

<style>

body {
background-color:#000000;
}

.navbar {
border-radius: 0px;
}

#nav {
background-color: #000000 !important;
}

.bannerhide {
height:280px;
overflow:hidden;
width:90%;
margin: 0 auto;
}
.tableau {
height:350px;
width:90%;
margin: 0 auto;
}

#e {
  transform: rotate(45deg);
  margin-top: 35.5%;
  margin-left: 35.5%;
  height: 0px;
}

#aa {
  width: 120px;
  height: 120px;
  border-radius: 100%;
  border-right: 5px solid transparent;
  border-left: 5px solid #777777;
  border-bottom: 5px solid transparent;
  border-top: 5px solid #777777;
  margin-top: -140px;
  margin-left: 55px;
  animation-name: aa;
  animation-duration: 1.5s;
  animation-iteration-count: infinite;
  animation-timing-function: linearinout;
}
@keyframes aa {
  0% {
    transform: rotate(360deg);
  }
}
#bb {
  width: 140px;
  height: 140px;
  border-radius: 100%;
  border-right: 5px solid transparent;
  border-left: 5px solid #ffffff;
  border-bottom: 5px solid transparent;
  border-top: 5px solid #ffffff;
  margin-left: 45px;
  animation-name: bb;
  animation-duration: 1s;
  animation-iteration-count: infinite;
  animation-timing-function: linear;
  margin-top: -160px;
}
@keyframes bb {
  0% {
    transform: rotate(360deg);
  }
}
#cc {
  width: 160px;
  height: 160px;
  border-radius: 100%;
  border-right: 5px solid transparent;
  border-left: 5px solid #dd1110;
  border-bottom: 5px solid transparent;
  border-top: 5px solid #dd1110;
  margin-left: 35px;
  animation-name: cc;
  animation-duration: 3s;
  animation-iteration-count: infinite;
  animation-timing-function: linear;
}
@keyframes cc {
  0% {
    transform: rotate(360deg);
  }
}

p {
color: #FFFFFF !important;
font-size: x-small !important;
}

h5 {
color: #FFFFFF !important;
font-size: x-small !important;
}


</style>



</head>

<body onload="tableau1()">

<!-- Navigation Bar -->

<nav id="nav" class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <h5 id="load">Status</h5>
      <button id="sorter" class="btn">Sort Metrics by Current Weight</button>
      <h5 id="timer">Timer</h5>
    </div>
  </div>
</nav>

<div id="e">
<div id="cc"></div>
<div id="bb"></div>
<div id="aa"></div>
</div>
  
<div id="viz" class="container">

<div class="row">
<div class="col-md-4">
<div class="box"><p id="a">6</p><div class="bannerhide"><div id="tableauViz1" class="tableau"></div></div></div>
</div>


<div class="col-md-4">
<div class="box"><p id="b">5</p><div class="bannerhide"><div id="tableauViz2" class="tableau"></div></div></div>
</div>


<div class="col-md-4">
<div class="box"><p id="c">4</p><div class="bannerhide"><div id="tableauViz3" class="tableau"></div></div></div>
</div>
</div>

<div class="row">
<div class="col-md-4">
<div class="box"><p id="d">3</p><div class="bannerhide"><div id="tableauViz4" class="tableau"></div></div></div>
</div>

<div class="col-md-4">
<div class="box"><p id="e">2</p><div class="bannerhide"><div id="tableauViz5" class="tableau"></div></div></div>
</div>

<div class="col-md-4">
<div class="box"><p id="f">1</p><div class="bannerhide"><div id="tableauViz6" class="tableau"></div></div></div>
</div>
</div>
<br><br>
</div>
</body>

<script>
$('#viz').hide();
$('#sorter').hide();
var a = function tableau1(){
     a = function tableau1(){};
};

var b = function tableau2(){
     b = function tableau2(){};
};

var c = function tableau3(){
     c = function tableau3(){};
};

var d = function tableau4(){
     d = function tableau4(){};
};

var e = function tableau5(){
     e = function tableau5(){};
};

var f = function tableau6(){
     f = function tableau6(){};
};



var viz, one, two, three, four, five, six, workbooka, workbookb, workbookc, workbookd, workbooke, workbookf, activeSheet, Worksheet, worksheet;
var onePh = document.getElementById("tableauViz1");
var twoPh = document.getElementById("tableauViz2");
var threePh = document.getElementById("tableauViz3");
var fourPh = document.getElementById("tableauViz4");
var fivePh = document.getElementById("tableauViz5");
var sixPh = document.getElementById("tableauViz6");

var oneUrl = "https://public.tableau.com/views/TurnerNight/CurrentCalls?:showVizHome=no&:display_spinner=no&:jsdebug=n&:embed=y&:display_overlay=no&:display_static_image=no&:animate_transition=yes"; 
var twoUrl = "https://public.tableau.com/views/TurnerNight/EscalatedCalls?:showVizHome=no&:display_spinner=no&:jsdebug=n&:embed=y&:display_overlay=no&:display_static_image=no&:animate_transition=yes"; 
var threeUrl = "https://public.tableau.com/views/TurnerNight/DroppedCalls?:showVizHome=no&:display_spinner=no&:jsdebug=n&:embed=y&:display_overlay=no&:display_static_image=no&:animate_transition=yes"; 
var fourUrl = "https://public.tableau.com/views/TurnerNight/StaffIdle?:showVizHome=no&:display_spinner=no&:jsdebug=n&:embed=y&:display_overlay=no&:display_static_image=no&:animate_transition=yes"; 
var fiveUrl = "https://public.tableau.com/views/TurnerNight/StaffonCalls?:showVizHome=no&:display_spinner=no&:jsdebug=n&:embed=y&:display_overlay=no&:display_static_image=no&:animate_transition=yes"; 
var sixUrl = "https://public.tableau.com/views/TurnerNight/EmergencyCalls?:showVizHome=no&:display_spinner=no&:jsdebug=n&:embed=y&:display_overlay=no&:display_static_image=no&:animate_transition=yes";

function tableau1(){
	var onevizOptions = {
	width: "100%",
	height: "100%",
            hideTabs: false,
            onFirstInteractive: function() {
document.getElementById('load').innerHTML = "Loading Current Calls";
tableau2();
}
        };
viz1 = new tableauSoftware.Viz(onePh, oneUrl, onevizOptions);
}

function tableau2(){
	var twovizOptions = {
	width: "100%",
	height: "100%",
            hideTabs: false,
            onFirstInteractive: function() {
document.getElementById('load').innerHTML = "Loading Escalating Calls";
tableau3();
}
        };
viz2 = new tableauSoftware.Viz(twoPh, twoUrl, twovizOptions);
}

function tableau3(){
	var threevizOptions = {
	width: "100%",
	height: "100%",
            hideTabs: false,
            onFirstInteractive: function() {
document.getElementById('load').innerHTML = "Loading Dropped Calls";
tableau4();
}
        };
viz3 = new tableauSoftware.Viz(threePh, threeUrl, threevizOptions);
}

function tableau4(){
	var fourvizOptions = {
	width: "100%",
	height: "100%",
            hideTabs: false,
            onFirstInteractive: function() {
document.getElementById('load').innerHTML = "Loading Staff Idle";
tableau5();
}
        };
viz4 = new tableauSoftware.Viz(fourPh, fourUrl, fourvizOptions);
}

function tableau5(){
	var fivevizOptions = {
	width: "100%",
	height: "100%",
            hideTabs: false,
            onFirstInteractive: function() {
document.getElementById('load').innerHTML = "Loading Staff on Calls";
tableau6();
}
        };
viz5 = new tableauSoftware.Viz(fivePh, fiveUrl, fivevizOptions);
}

function tableau6(){
	var sixvizOptions = {
	width: "100%",
	height: "100%",
            hideTabs: false,
            onFirstInteractive: function() {
document.getElementById('load').innerHTML = "Loading Emergency Calls";
$('#e').hide();
$('#viz').show();
sorted();
animate();
}
        };
viz6 = new tableauSoftware.Viz(sixPh, sixUrl, sixvizOptions);
i=1;
}


function animate() {
if(i<=53) {
window.setTimeout("animate()","2000");
animate1(i);
i++;
}
if(i>=53) {
i=-1;
}

}

function animate1(a) {
document.getElementById('timer').innerHTML = a;
viz1.getWorkbook().changeParameterValueAsync("ANIMATE", [a]);
viz2.getWorkbook().changeParameterValueAsync("ANIMATE", [a]);
viz3.getWorkbook().changeParameterValueAsync("ANIMATE", [a]);
viz4.getWorkbook().changeParameterValueAsync("ANIMATE", [a]);
viz5.getWorkbook().changeParameterValueAsync("ANIMATE", [a]);
viz6.getWorkbook().changeParameterValueAsync("ANIMATE", [a]);
switch (a)
{
case 1:
document.getElementById('a').innerHTML = "You fucking beauty";
document.getElementById('b').innerHTML = "Yesss";
document.getElementById('c').innerHTML = "Hello";
document.getElementById('d').innerHTML = "Javascript FTW";
document.getElementById('e').innerHTML = "Bollocks";
document.getElementById('f').innerHTML = "Shitfuck";
break;
case 2:

break;
case 3:

break;
case 4:

break;
case 5:

break;
case 6:

break;
case 7:

break;
case 8:

break;
case 9:

break;
case 10:

break;
case 11:

break;
case 12:

break;
case 13:

break;
case 14:

break;
case 15:

break;
case 16:

break;
case 17:

break;
case 18:

break;
case 19:

break;
case 20:

break;
case 21:

break;
case 22:

break; 
case 23:

break;
case 24:

break;
case 25:

break;
case 26:

break;
case 27:

break;
case 28:

break;
case 29:

break;
case 30:

break;
case 31:

break;
case 32:

break;
case 33:

break;
case 34:

break;
case 35:

break;
case 36:

break;
case 37:

break;
case 38:

break;
case 39:

break;
case 40:

break;
case 41:

break;
case 42:

break;
case 43:

break;
case 44:

break;
case 45:

break;
case 46:

break;
case 47:

break;
case 48:

break;
case 49:

break;
case 50:

break;
case 51:

break;
case 52:

break;
case 53:       

break;       

   default: 
       console.log('timer reset');
}
}

var $divs = $("div.box");

function sorted(){
if($(window).width() < 500){
document.getElementById('load').innerHTML = "Mobile User";
$('#sorter').show();
$('#sorter').on('click', function () {
    var numericallyOrderedDivs = $divs.sort(function (a, b) {
        return $(a).find("p").text() > $(b).find("p").text();
    });
    $("#viz").html(numericallyOrderedDivs);
});   
}else{
document.getElementById('load').innerHTML = "Desktop User";
$('#sorter').hide();
//$('p').hide();
}
}



</script>
</html>