<!DOCTYPE html>
<html lang="en">
<head>
<title>Animated Tie Fighter with Tableau</title>
<script src="https://public.tableau.com/javascripts/api/tableau-2.0.0.min.js" type="text/javascript"></script>
<script src="https://code.jquery.com/jquery-1.10.2.js"></script> 
<style>
body {
background-color: #000000;
}
#tableauViz1 {
width:95vw;
height:95vh;
margin: 0 auto;
}
</style>
</head>
<body>
<div id=tableauViz1></div>
</body> 
<script>
    $(function() {
        var onePh = document.getElementById("tableauViz1");
        var oneUrl = "https://public.tableau.com/views/TieFighter/TIE?:showVizHome=no&:display_spinner=no&:jsdebug=n&:embed=y&:display_overlay=no&:display_static_image=no&:animate_transition=yes";
	var vizOptions = {
	width: "100%",
	height: "100%",
            hideTabs: false,
            onFirstInteractive: function() {
animate();
}
        };
viz1 = new tableauSoftware.Viz(onePh, oneUrl, vizOptions);
    i=1;
});
function animate() {
if(i<=31) {
window.setTimeout("animate()","2000");
animate1(i);
i++;
}
if(i>=31) {
i=-1;
}
}
function animate1(a) {
viz1.getWorkbook().changeParameterValueAsync("ANIMATEXY", [a]);
viz1.getWorkbook().changeParameterValueAsync("ANIMATEXZ", [a]);

}
</script>
</html>
